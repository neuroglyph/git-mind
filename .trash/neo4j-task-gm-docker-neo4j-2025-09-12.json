{
  "statements": [
    {
      "statement": "MERGE (t:Task:GM {id:$id}) ON CREATE SET t.title=$title, t.status='in_progress', t.started_at=datetime(), t.repo=$repo ON MATCH SET t.status='in_progress', t.repo=$repo",
      "parameters": {
        "id": "gm-docker-namespacing-neo4j-2025-09-12",
        "title": "Docker image namespacing, cleanup tools, Neo4j logging setup",
        "repo": "git-mind"
      }
    },
    {
      "statement": "UNWIND $files AS p MERGE (t:Task:GM {id:$id}) MERGE (f:File:GM {path:p}) ON CREATE SET f.repo=$repo ON MATCH SET f.repo=$repo MERGE (t)-[:TOUCHES]->(f)",
      "parameters": {
        "id": "gm-docker-namespacing-neo4j-2025-09-12",
        "repo": "git-mind",
        "files": [
          "AGENTS.md",
          ".ci/Dockerfile",
          ".ci/.dockerignore",
          ".dockerignore",
          "Makefile",
          "scripts/neo4j-curl.sh",
          "scripts/neo4j-constraints.json",
          "scripts/neo4j-constraints.json",
          "scripts/neo4j-task-gm-docker-neo4j-2025-09-12.json",
          "tools/README.md",
          "tools/docker-clean.sh",
          "tools/docker-clang-tidy.sh",
          "tools/gauntlet/Dockerfile.gauntlet",
          "tools/gauntlet/run-gauntlet.sh",
          "tools/gauntlet/test-gauntlet.sh",
          "tools/regenerate-baseline.sh",
          "core/include/gitmind/cache.h",
          "core/include/gitmind/cache/cache.h",
          "core/include/gitmind/security/string.h",
          "core/src/cache/tree_size.c"
        ]
      }
    },
    {
      "statement": "MERGE (a:File:GM {path:$a}) ON CREATE SET a.repo=$repo ON MATCH SET a.repo=$repo MERGE (b:File:GM {path:$b}) ON CREATE SET b.repo=$repo ON MATCH SET b.repo=$repo MERGE (a)-[:DEPENDS_ON]->(b)",
      "parameters": { "a": "tools/docker-clang-tidy.sh", "b": ".ci/Dockerfile", "repo": "git-mind" }
    },
    {
      "statement": "MERGE (a:File:GM {path:$a}) ON CREATE SET a.repo=$repo ON MATCH SET a.repo=$repo MERGE (b:File:GM {path:$b}) ON CREATE SET b.repo=$repo ON MATCH SET b.repo=$repo MERGE (a)-[:DEPENDS_ON]->(b)",
      "parameters": { "a": "tools/gauntlet/run-gauntlet.sh", "b": "tools/gauntlet/Dockerfile.gauntlet", "repo": "git-mind" }
    },
    {
      "statement": "MERGE (a:File:GM {path:$a}) ON CREATE SET a.repo=$repo ON MATCH SET a.repo=$repo MERGE (b:File:GM {path:$b}) ON CREATE SET b.repo=$repo ON MATCH SET b.repo=$repo MERGE (a)-[:DEPENDS_ON]->(b)",
      "parameters": { "a": "tools/regenerate-baseline.sh", "b": ".ci/Dockerfile", "repo": "git-mind" }
    }
  ]
}
