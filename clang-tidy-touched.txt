../core/src/adapters/git/libgit2_repository_port.c:4:9: error: declaration uses identifier '_POSIX_C_SOURCE', which is a reserved identifier [bugprone-reserved-identifier,cert-dcl37-c,cert-dcl51-cpp,-warnings-as-errors]
    4 | #define _POSIX_C_SOURCE 200809L
      |         ^
note: this fix will not be applied because it overlaps with another fix
../core/src/adapters/git/libgit2_repository_port.c:4:9: error: invalid case style for macro definition '_POSIX_C_SOURCE' [readability-identifier-naming,-warnings-as-errors]
note: this fix will not be applied because it overlaps with another fix
../core/src/adapters/git/libgit2_repository_port.c:6:9: error: declaration uses identifier '_GNU_SOURCE', which is a reserved identifier [bugprone-reserved-identifier,cert-dcl37-c,cert-dcl51-cpp,-warnings-as-errors]
    6 | #define _GNU_SOURCE
      |         ^
note: this fix will not be applied because it overlaps with another fix
../core/src/adapters/git/libgit2_repository_port.c:6:9: error: invalid case style for macro definition '_GNU_SOURCE' [readability-identifier-naming,-warnings-as-errors]
note: this fix will not be applied because it overlaps with another fix
../core/src/adapters/git/libgit2_repository_port.c:29:1: error: included header types.h is not used directly [misc-include-cleaner,-warnings-as-errors]
   29 | #include <sys/types.h>
      | ^~~~~~~~~~~~~~~~~~~~~~
   30 | #include <time.h>
../core/src/adapters/git/libgit2_repository_port.c:43:5: error: no header providing "git_repository" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |     git_repository *repo;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:47:46: error: no header providing "gm_git_repository_path_kind_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |                                              gm_git_repository_path_kind_t kind,
      |                                              ^
../core/src/adapters/git/libgit2_repository_port.c:56:10: error: no header providing "GM_GIT_REPOSITORY_PATH_GITDIR" is directly included [misc-include-cleaner,-warnings-as-errors]
   56 |     case GM_GIT_REPOSITORY_PATH_GITDIR:
      |          ^
../core/src/adapters/git/libgit2_repository_port.c:59:10: error: no header providing "GM_GIT_REPOSITORY_PATH_WORKDIR" is directly included [misc-include-cleaner,-warnings-as-errors]
   59 |     case GM_GIT_REPOSITORY_PATH_WORKDIR:
      |          ^
../core/src/adapters/git/libgit2_repository_port.c:72:9: error: no header providing "gm_strcpy_safe" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |     if (gm_strcpy_safe(out_buffer, buffer_size, source) != GM_OK) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:87:5: error: no header providing "git_reference" is directly included [misc-include-cleaner,-warnings-as-errors]
   87 |     git_reference *head = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:127:12: error: implicit conversion 'int' -> 'bool' [readability-implicit-bool-conversion,-warnings-as-errors]
  127 |     return name == NULL || strcmp(name, ".") == 0 || strcmp(name, "..") == 0;
      |            ^                                                                
      |            (                                                                ) != 0
../core/src/adapters/git/libgit2_repository_port.c:131:46: error: no header providing "git_treebuilder" is directly included [misc-include-cleaner,-warnings-as-errors]
  131 |                                              git_treebuilder *builder,
      |                                              ^
../core/src/adapters/git/libgit2_repository_port.c:135:25: error: function 'add_directory_tree' is within a recursive call chain [misc-no-recursion,-warnings-as-errors]
  135 | static gm_result_void_t add_directory_tree(git_repository *repo,
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:187:25: note: example recursive call chain, starting from function 'add_entry_to_builder'
  187 | static gm_result_void_t add_entry_to_builder(git_repository *repo,
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:213:16: note: Frame #1: function 'add_entry_to_builder' calls function 'add_directory_tree' here:
  213 |         return add_directory_tree(repo, builder, full_path);
      |                ^
../core/src/adapters/git/libgit2_repository_port.c:155:18: note: Frame #2: function 'add_directory_tree' calls function 'add_entry_to_builder' here:
  155 |         result = add_entry_to_builder(repo, local_builder, dir_path, entry->d_name);
      |                  ^
../core/src/adapters/git/libgit2_repository_port.c:155:18: note: ... which was the starting point of the recursive call chain; there may be other cycles
../core/src/adapters/git/libgit2_repository_port.c:154:46: error: implicit conversion 'bool' -> 'int' [readability-implicit-bool-conversion,-warnings-as-errors]
  154 |     while ((entry = readdir(dir)) != NULL && result.ok) {
      |                                              ^
      |                                              (int)
../core/src/adapters/git/libgit2_repository_port.c:176:36: error: no header providing "GIT_FILEMODE_TREE" is directly included [misc-include-cleaner,-warnings-as-errors]
  176 |                                    GIT_FILEMODE_TREE) < 0) {
      |                                    ^
../core/src/adapters/git/libgit2_repository_port.c:187:25: error: function 'add_entry_to_builder' is within a recursive call chain [misc-no-recursion,-warnings-as-errors]
  187 | static gm_result_void_t add_entry_to_builder(git_repository *repo,
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:202:17: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
  202 |     struct stat st = {0};
      |                 ^
../core/src/adapters/git/libgit2_repository_port.c:204:22: error: no header providing "ENOENT" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |         if (errno == ENOENT) {
      |                      ^
../core/src/adapters/git/libgit2_repository_port.c:224:32: error: no header providing "GIT_FILEMODE_BLOB" is directly included [misc-include-cleaner,-warnings-as-errors]
  224 |                                GIT_FILEMODE_BLOB) < 0) {
      |                                ^
../core/src/adapters/git/libgit2_repository_port.c:264:44: error: no header providing "gm_git_reference_tip_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  264 |                                            gm_git_reference_tip_t *out_tip) {
      |                                            ^
../core/src/adapters/git/libgit2_repository_port.c:295:5: error: no header providing "git_commit" is directly included [misc-include-cleaner,-warnings-as-errors]
  295 |     git_commit *commit = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:297:33: error: no header providing "uint64_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |         out_tip->commit_time = (uint64_t)git_commit_time(commit);
      |                                 ^
../core/src/adapters/git/libgit2_repository_port.c:307:25: error: function 'reference_glob_latest_impl' has cognitive complexity of 13 (threshold 12) [readability-function-cognitive-complexity,-warnings-as-errors]
  307 | static gm_result_void_t reference_glob_latest_impl(
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:310:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  310 |     if (pattern == NULL || out_tip == NULL) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:310:25: note: +1
  310 |     if (pattern == NULL || out_tip == NULL) {
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:316:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  316 |     if (git_reference_iterator_glob_new(&iter, state->repo, pattern) != 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:326:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  326 |     while (git_reference_next(&current, iter) == 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:328:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  328 |         if (target == NULL) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:335:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  335 |         if (git_commit_lookup(&commit, state->repo, target) != 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:344:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  344 |         if (!found || commit_time > best_time) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:344:20: note: +1
  344 |         if (!found || commit_time > best_time) {
      |                    ^
../core/src/adapters/git/libgit2_repository_port.c:358:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  358 |     if (current != NULL) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:362:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  362 |     if (!found) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:315:5: error: no header providing "git_reference_iterator" is directly included [misc-include-cleaner,-warnings-as-errors]
  315 |     git_reference_iterator *iter = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:404:48: error: no header providing "git_tree" is directly included [misc-include-cleaner,-warnings-as-errors]
  404 |     const char *path, git_commit **out_commit, git_tree **out_tree,
      |                                                ^
../core/src/adapters/git/libgit2_repository_port.c:405:5: error: no header providing "git_tree_entry" is directly included [misc-include-cleaner,-warnings-as-errors]
  405 |     git_tree_entry **out_entry) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:441:23: error: no header providing "uint8_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  441 |     const char *path, uint8_t **out_data, size_t *out_size) {
      |                       ^
../core/src/adapters/git/libgit2_repository_port.c:457:5: error: no header providing "git_blob" is directly included [misc-include-cleaner,-warnings-as-errors]
  457 |     git_blob *blob = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:482:9: error: Call to function 'memcpy' is insecure as it does not provide security checks introduced in the C11 standard. Replace with analogous functions that support length arguments or provides boundary checks such as 'memcpy_s' in case of C11 [clang-analyzer-security.insecureAPI.DeprecatedOrUnsafeBufferHandling,-warnings-as-errors]
  482 |         memcpy(buffer, raw, size);
      |         ^~~~~~
../core/src/adapters/git/libgit2_repository_port.c:482:9: note: Call to function 'memcpy' is insecure as it does not provide security checks introduced in the C11 standard. Replace with analogous functions that support length arguments or provides boundary checks such as 'memcpy_s' in case of C11
  482 |         memcpy(buffer, raw, size);
      |         ^~~~~~
../core/src/adapters/git/libgit2_repository_port.c:615:51: error: 8U is a magic number; consider replacing it with a named constant [readability-magic-numbers,-warnings-as-errors]
  615 |         size_t new_capacity = (*capacity == 0U) ? 8U : (*capacity * 2U);
      |                                                   ^
../core/src/adapters/git/libgit2_repository_port.c:632:25: error: function 'tree_size_iterative' has cognitive complexity of 35 (threshold 12) [readability-function-cognitive-complexity,-warnings-as-errors]
  632 | static gm_result_void_t tree_size_iterative(git_repository *repo,
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:641:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  641 |     if (!push_result.ok) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:647:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  647 |     while (stack_count > 0U) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:651:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  651 |         if (git_tree_lookup(&tree, repo, &current) != 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:658:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  658 |         if (git_repository_odb(&odb, repo) == 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:661:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  661 |             if (git_odb_read_header(&tree_size, &tree_type, odb, &current) == 0) {
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:668:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  668 |         for (size_t idx = 0; idx < entry_count; ++idx) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:670:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  670 |             if (entry == NULL) {
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:677:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  677 |             if (mode == GIT_FILEMODE_TREE) {
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:681:17: note: +4, including nesting penalty of 3, nesting level increased to 4
  681 |                 if (!push_tree.ok) {
      |                 ^
../core/src/adapters/git/libgit2_repository_port.c:688:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  688 |             if (mode == GIT_FILEMODE_BLOB) {
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:690:17: note: +4, including nesting penalty of 3, nesting level increased to 4
  690 |                 if (git_repository_odb(&blob_odb, repo) == 0) {
      |                 ^
../core/src/adapters/git/libgit2_repository_port.c:693:21: note: +5, including nesting penalty of 4, nesting level increased to 5
  693 |                     if (git_odb_read_header(&blob_size, &blob_type, blob_odb,
      |                     ^
../core/src/adapters/git/libgit2_repository_port.c:703:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  703 |         if (!result.ok) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:657:9: error: no header providing "git_odb" is directly included [misc-include-cleaner,-warnings-as-errors]
  657 |         git_odb *odb = NULL;
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:660:13: error: no header providing "git_object_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  660 |             git_object_t tree_type = GIT_OBJECT_INVALID;
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:660:38: error: no header providing "GIT_OBJECT_INVALID" is directly included [misc-include-cleaner,-warnings-as-errors]
  660 |             git_object_t tree_type = GIT_OBJECT_INVALID;
      |                                      ^
../core/src/adapters/git/libgit2_repository_port.c:675:13: error: no header providing "git_filemode_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  675 |             git_filemode_t mode = git_tree_entry_filemode(entry);
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:747:42: error: no header providing "gm_git_commit_visit_cb" is directly included [misc-include-cleaner,-warnings-as-errors]
  747 |                                          gm_git_commit_visit_cb visit_callback,
      |                                          ^
../core/src/adapters/git/libgit2_repository_port.c:754:5: error: no header providing "git_revwalk" is directly included [misc-include-cleaner,-warnings-as-errors]
  754 |     git_revwalk *walk = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:789:25: error: function 'commit_create_impl' has cognitive complexity of 26 (threshold 12) [readability-function-cognitive-complexity,-warnings-as-errors]
  789 | static gm_result_void_t commit_create_impl(
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:792:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  792 |     if (spec == NULL || spec->tree_oid == NULL || spec->message == NULL ||
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:792:73: note: +1
  792 |     if (spec == NULL || spec->tree_oid == NULL || spec->message == NULL ||
      |                                                                         ^
../core/src/adapters/git/libgit2_repository_port.c:801:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  801 |     if (git_signature_default(&sig, state->repo) < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:803:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  803 |         if (git_signature_now(&sig, "gitmind", "gitmind@example.invalid") < 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:810:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  810 |     if (git_tree_lookup(&tree, state->repo, spec->tree_oid) < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:818:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  818 |     if (spec->parent_count > 0U) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:819:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  819 |         if (spec->parents == NULL) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:825:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  825 |         if (spec->parent_count > UINT_MAX) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:833:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  833 |         if (parents == NULL) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:839:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  839 |         for (unsigned int i = 0; i < parent_count; ++i) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:841:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  841 |             if (git_commit_lookup(&parent_commit, state->repo,
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:843:17: note: +4, including nesting penalty of 3, nesting level increased to 4
  843 |                 for (unsigned int j = 0; j < i; ++j) {
      |                 ^
../core/src/adapters/git/libgit2_repository_port.c:860:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  860 |     for (unsigned int i = 0; i < parent_count; ++i) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:865:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  865 |     if (git_status < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:874:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  874 |     if (git_status == 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:884:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  884 |     if (git_status < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:790:54: error: no header providing "gm_git_commit_spec_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  790 |     gm_libgit2_repository_port_state_t *state, const gm_git_commit_spec_t *spec,
      |                                                      ^
../core/src/adapters/git/libgit2_repository_port.c:800:5: error: no header providing "git_signature" is directly included [misc-include-cleaner,-warnings-as-errors]
  800 |     git_signature *sig = NULL;
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:832:19: error: multilevel pointer conversion from 'void *' to 'const git_commit **' (aka 'const struct git_commit **'), please use explicit cast [bugprone-multi-level-implicit-pointer-conversion,-warnings-as-errors]
  832 |         parents = calloc(parent_count, sizeof(*parents));
      |                   ^
../core/src/adapters/git/libgit2_repository_port.c:856:5: error: no header providing "git_buf" is directly included [misc-include-cleaner,-warnings-as-errors]
    4 |     git_buf buffer = {0};
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:876:73: error: no header providing "GIT_OBJECT_COMMIT" is directly included [misc-include-cleaner,-warnings-as-errors]
  876 |             git_odb_write(out_commit_oid, odb, buffer.ptr, buffer.size, GIT_OBJECT_COMMIT);
      |                                                                         ^
../core/src/adapters/git/libgit2_repository_port.c:880:5: error: no header providing "git_buf_dispose" is directly included [misc-include-cleaner,-warnings-as-errors]
  880 |     git_buf_dispose(&buffer);
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:892:25: error: function 'reference_update_impl' has cognitive complexity of 39 (threshold 12) [readability-function-cognitive-complexity,-warnings-as-errors]
  892 | static gm_result_void_t reference_update_impl(
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:895:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  895 |     if (spec == NULL || spec->ref_name == NULL || spec->target_oid == NULL) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:895:48: note: +1
  895 |     if (spec == NULL || spec->ref_name == NULL || spec->target_oid == NULL) {
      |                                                ^
../core/src/adapters/git/libgit2_repository_port.c:903:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  903 |     if (lookup_status == GIT_ENOTFOUND) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:906:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  906 |         if (gitdir != NULL) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:908:13: note: +3, including nesting penalty of 2, nesting level increased to 3
  908 |             if (gm_snprintf(fullpath, sizeof(fullpath), "%s%s", gitdir, spec->ref_name) > 0) {
      |             ^
../core/src/adapters/git/libgit2_repository_port.c:911:17: note: +4, including nesting penalty of 3, nesting level increased to 4
  911 |                 for (size_t i = 0; i < len; ++i) {
      |                 ^
../core/src/adapters/git/libgit2_repository_port.c:912:21: note: +5, including nesting penalty of 4, nesting level increased to 5
  912 |                     if (i > 0 && fullpath[i] == '/') {
      |                     ^
../core/src/adapters/git/libgit2_repository_port.c:912:31: note: +1
  912 |                     if (i > 0 && fullpath[i] == '/') {
      |                               ^
../core/src/adapters/git/libgit2_repository_port.c:914:25: note: +6, including nesting penalty of 5, nesting level increased to 6
  914 |                         if (mkdir(fullpath, 0777) < 0 && errno != EEXIST) {
      |                         ^
../core/src/adapters/git/libgit2_repository_port.c:914:55: note: +1
  914 |                         if (mkdir(fullpath, 0777) < 0 && errno != EEXIST) {
      |                                                       ^
../core/src/adapters/git/libgit2_repository_port.c:928:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  928 |         if (created != NULL) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:931:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  931 |         if (create_status < 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:938:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  938 |     if (lookup_status < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:944:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  944 |     if (current_target == NULL) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:950:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  950 |     if (!gm_oid_equal(current_target, spec->target_oid)) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:953:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  953 |         if (descendant < 0) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:958:9: note: +2, including nesting penalty of 1, nesting level increased to 2
  958 |         if (descendant == 0 && !spec->force) {
      |         ^
../core/src/adapters/git/libgit2_repository_port.c:958:29: note: +1
  958 |         if (descendant == 0 && !spec->force) {
      |                             ^
../core/src/adapters/git/libgit2_repository_port.c:970:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  970 |     if (updated != NULL) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:974:5: note: +1, including nesting penalty of 0, nesting level increased to 1
  974 |     if (set_status < 0) {
      |     ^
../core/src/adapters/git/libgit2_repository_port.c:894:11: error: no header providing "gm_git_reference_update_spec_t" is directly included [misc-include-cleaner,-warnings-as-errors]
  894 |     const gm_git_reference_update_spec_t *spec) {
      |           ^
../core/src/adapters/git/libgit2_repository_port.c:914:45: error: 0777 is a magic number; consider replacing it with a named constant [readability-magic-numbers,-warnings-as-errors]
  914 |                         if (mkdir(fullpath, 0777) < 0 && errno != EEXIST) {
      |                                             ^
../core/src/adapters/git/libgit2_repository_port.c:914:67: error: no header providing "EEXIST" is directly included [misc-include-cleaner,-warnings-as-errors]
  914 |                         if (mkdir(fullpath, 0777) < 0 && errno != EEXIST) {
      |                                                                   ^
../core/src/adapters/git/libgit2_repository_port.c:927:50: error: implicit conversion 'bool' -> 'int' [readability-implicit-bool-conversion,-warnings-as-errors]
  927 |                                                  false, spec->log_message);
      |                                                  ^~~~~
      |                                                  0
../core/src/adapters/git/libgit2_repository_port.c:1080:14: error: no header providing "gm_git_repository_port_vtbl_t" is directly included [misc-include-cleaner,-warnings-as-errors]
 1080 | static const gm_git_repository_port_vtbl_t GM_LIBGIT2_REPOSITORY_PORT_VTBL = {
      |              ^
../core/src/adapters/git/libgit2_repository_port.c:1080:44: error: invalid case style for global constant 'GM_LIBGIT2_REPOSITORY_PORT_VTBL' [readability-identifier-naming,-warnings-as-errors]
 1080 | static const gm_git_repository_port_vtbl_t GM_LIBGIT2_REPOSITORY_PORT_VTBL = {
      |                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |                                            GmLibgiT2RepositoryPortVtbl
../core/src/adapters/git/libgit2_repository_port.c:1099:37: error: no header providing "gm_git_repository_port_t" is directly included [misc-include-cleaner,-warnings-as-errors]
 1099 | static void dispose_repository_port(gm_git_repository_port_t *port) {
      |                                     ^
../core/src/ports/cache/cache_build_port.c:10:5: error: no header providing "gm_context_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    6 | #include "gitmind/error.h"
    7 | #include "gitmind/result.h"
    8 | 
    9 | typedef struct {
   10 |     gm_context_t *ctx; /* not owned */
      |     ^
../core/src/ports/cache/cache_build_port.c:19:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   19 |     cache_build_state_t *st = (cache_build_state_t *)self->state;
      |                          ^
../core/src/ports/cache/cache_build_port.c:20:9: error: variable name 'rc' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   20 |     int rc = gm_cache_rebuild(st->ctx, branch, force_full);
      |         ^
../core/src/ports/cache/cache_build_port.c:46:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   46 |     cache_build_state_t *st = (cache_build_state_t *)calloc(1, sizeof(*st));
      |                          ^
../core/src/ports/cache/cache_build_port.c:46:54: error: no header providing "calloc" is directly included [misc-include-cleaner,-warnings-as-errors]
    8 |     cache_build_state_t *st = (cache_build_state_t *)calloc(1, sizeof(*st));
      |                                                      ^
../core/src/ports/cache/cache_build_port.c:58:22: error: statement should be inside braces [readability-braces-around-statements,-warnings-as-errors]
   58 |     if (port == NULL) return;
      |                      ^       
      |                       {
../core/src/ports/cache/cache_build_port.c:59:5: error: no header providing "free" is directly included [misc-include-cleaner,-warnings-as-errors]
   59 |     free(port->state);
      |     ^
../core/src/ports/cache/cache_query_port.c:10:5: error: no header providing "gm_context_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    6 | #include "gitmind/error.h"
    7 | #include "gitmind/result.h"
    8 | 
    9 | typedef struct {
   10 |     gm_context_t *ctx; /* not owned */
      |     ^
../core/src/ports/cache/cache_query_port.c:15:49: error: no header providing "gm_oid_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    8 | 
    9 | typedef struct {
   10 |     gm_context_t *ctx; /* not owned */
   11 | } cache_query_state_t;
   12 | 
   13 | static gm_result_void_t query_fanout_impl(gm_qry_cache_port_t *self,
   14 |                                           const char *branch,
   15 |                                           const gm_oid_t *src_oid,
      |                                                 ^
../core/src/ports/cache/cache_query_port.c:22:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   22 |     cache_query_state_t *st = (cache_query_state_t *)self->state;
      |                          ^
../core/src/ports/cache/cache_query_port.c:23:9: error: variable name 'rc' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   23 |     int rc = gm_cache_query_fanout(st->ctx, branch, src_oid, out);
      |         ^
../core/src/ports/cache/cache_query_port.c:24:21: error: statement should be inside braces [readability-braces-around-statements,-warnings-as-errors]
   24 |     if (rc != GM_OK) return gm_err_void(GM_ERROR(rc, "fanout query failed"));
      |                     ^                                                        
      |                      {
../core/src/ports/cache/cache_query_port.c:37:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   37 |     cache_query_state_t *st = (cache_query_state_t *)self->state;
      |                          ^
../core/src/ports/cache/cache_query_port.c:38:9: error: variable name 'rc' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   38 |     int rc = gm_cache_query_fanin(st->ctx, branch, tgt_oid, out);
      |         ^
../core/src/ports/cache/cache_query_port.c:39:21: error: statement should be inside braces [readability-braces-around-statements,-warnings-as-errors]
   39 |     if (rc != GM_OK) return gm_err_void(GM_ERROR(rc, "fanin query failed"));
      |                     ^                                                       
      |                      {
../core/src/ports/cache/cache_query_port.c:45:36: error: no header providing "uint64_t" is directly included [misc-include-cleaner,-warnings-as-errors]
    8 |                                    uint64_t *edge_count,
      |                                    ^
../core/src/ports/cache/cache_query_port.c:51:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   51 |     cache_query_state_t *st = (cache_query_state_t *)self->state;
      |                          ^
../core/src/ports/cache/cache_query_port.c:52:9: error: variable name 'rc' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   52 |     int rc = gm_cache_stats(st->ctx, branch, edge_count, cache_size_bytes);
      |         ^
../core/src/ports/cache/cache_query_port.c:53:21: error: statement should be inside braces [readability-braces-around-statements,-warnings-as-errors]
   53 |     if (rc != GM_OK) return gm_err_void(GM_ERROR(rc, "cache stats failed"));
      |                     ^                                                       
      |                      {
../core/src/ports/cache/cache_query_port.c:69:26: error: variable name 'st' is too short, expected at least 3 characters [readability-identifier-length,-warnings-as-errors]
   69 |     cache_query_state_t *st = (cache_query_state_t *)calloc(1, sizeof(*st));
      |                          ^
../core/src/ports/cache/cache_query_port.c:69:54: error: no header providing "calloc" is directly included [misc-include-cleaner,-warnings-as-errors]
    8 |     cache_query_state_t *st = (cache_query_state_t *)calloc(1, sizeof(*st));
      |                                                      ^
../core/src/ports/cache/cache_query_port.c:81:22: error: statement should be inside braces [readability-braces-around-statements,-warnings-as-errors]
   81 |     if (port == NULL) return;
      |                      ^       
      |                       {
../core/src/ports/cache/cache_query_port.c:82:5: error: no header providing "free" is directly included [misc-include-cleaner,-warnings-as-errors]
   82 |     free(port->state);
      |     ^
